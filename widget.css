:root{
  /* palette */
  --bg: linear-gradient(135deg,#0f172a 0%, #071328 100%);
  --panel-bg: rgba(255,255,255,0.03);
  --panel-glass: rgba(255,255,255,0.028);
  --accent: #2563eb;
  --accent-2: #1e40af;
  --accent-3: #60a5fa;
  --text: #e6eef8;
  --muted: rgba(230,238,248,0.62);
  --success: #10b981;
  --danger: #ff4757;
  --shadow-1: 0 8px 30px rgba(2,6,23,0.55);
  --radius-lg: 14px;
  --radius-md: 10px;
  --glass-blur: 14px;
  --trans-fast: 160ms;
  --trans-med: 260ms;
  --trans-slow: 360ms;
}

/* base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);font-family:Inter, "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
a{color:inherit}
.page-root{position:relative;min-height:100vh;padding:28px}

/* chat wrapper & responsive */
.chat-wrapper{position:fixed;right:28px;bottom:28px;z-index:9999;display:flex;align-items:flex-end;gap:12px}
.chat-panel{
  width:440px;
  max-width:calc(100vw - 80px);
  height:68vh;
  transform-origin:right bottom;
  border-radius:var(--radius-lg);
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  backdrop-filter: blur(var(--glass-blur));
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: var(--shadow-1);
  display:flex;flex-direction:column;overflow:hidden;
  transition: transform var(--trans-med) cubic-bezier(.2,.9,.3,1), opacity var(--trans-med) ease, box-shadow var(--trans-fast);
  opacity:0; transform: translateY(14px) scale(.96); pointer-events:none;
}

/* open state */
.chat-panel.open{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}
.chat-panel:focus-within{box-shadow: 0 18px 60px rgba(2,6,23,0.65)}

/* header */
.chat-header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,0.03)}
.chat-header .left{display:flex;gap:12px;align-items:center}
.bot-avatar{width:44px;height:44px;border-radius:12px;background:#fff;padding:6px;flex-shrink:0;box-shadow:0 4px 18px rgba(2,6,23,0.4)}
.title .name{font-weight:700;font-size:1.02rem}
.title .status{font-size:0.85rem;color:var(--muted);margin-top:2px}
.icon-btn{background:transparent;border:none;color:var(--muted);font-size:18px;cursor:pointer;padding:6px;border-radius:8px;transition:background var(--trans-fast);outline:none}
.icon-btn:hover,.icon-btn:focus{background:rgba(255,255,255,0.02);color:var(--text)}
.icon-btn:focus{box-shadow:0 0 0 4px rgba(37,99,235,0.12)}

/* messages area */
.chat-messages{flex:1;padding:20px;display:flex;flex-direction:column;gap:14px;overflow:auto;scroll-behavior:smooth;position:relative}
.msg{max-width:78%;padding:12px 16px;border-radius:12px;line-height:1.45;animation:pop .18s ease;box-shadow: 0 4px 18px rgba(2,6,23,0.25)}
.msg.bot{align-self:flex-start;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));color:var(--text)}
.msg.user{align-self:flex-end;background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#fff;border-bottom-right-radius:6px}

/* typing indicator */
.typing{display:inline-block;width:46px;height:22px;border-radius:12px;background:rgba(255,255,255,0.03);padding:6px 8px;display:flex;gap:6px;align-items:center}
.typing span{display:inline-block;width:6px;height:6px;background:rgba(255,255,255,0.6);border-radius:50%;opacity:0.85;animation:blink 1s infinite ease-in-out}
.typing span:nth-child(2){animation-delay:0.12s} .typing span:nth-child(3){animation-delay:0.24s}

/* quick actions */
.quick-actions{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
.quick-actions .qa{background:rgba(255,255,255,0.02);color:var(--text);border:none;padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600;font-size:0.92rem;transition:transform var(--trans-fast),background var(--trans-fast);outline:none}
.quick-actions .qa:hover{transform:translateY(-3px);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015))}
.quick-actions .qa:focus{box-shadow:0 6px 18px rgba(37,99,235,0.12)}

/* input area */
.chat-input{display:flex;gap:10px;padding:14px;border-top:1px solid rgba(255,255,255,0.03);background:linear-gradient(180deg, rgba(255,255,255,0.007), rgba(255,255,255,0.01))}
.chat-input input{flex:1;padding:12px;border-radius:10px;border:none;background:rgba(255,255,255,0.02);color:var(--text);font-size:0.95rem;outline:none;transition:box-shadow var(--trans-fast)}
.chat-input input::placeholder{color:rgba(226,232,240,0.42)}
.chat-input input:focus{box-shadow:0 6px 20px rgba(37,99,235,0.08)}
.chat-input button{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;padding:10px 14px;border-radius:10px;color:#fff;cursor:pointer;font-weight:700;transition:transform var(--trans-fast),box-shadow var(--trans-fast)}
.chat-input button:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(37,99,235,0.2)}
.chat-input button:active{transform:translateY(0)}

/* FAB */
.chat-fab{position:fixed;right:28px;bottom:28px;width:68px;height:68px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent-2));border:none;color:#fff;font-size:22px;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 46px rgba(37,99,235,0.28);cursor:pointer;z-index:10000;transition:transform var(--trans-fast),box-shadow var(--trans-fast),filter var(--trans-fast)}
.chat-fab:active{transform:translateY(2px) scale(.98)}
.fab-icon{pointer-events:none}
.fab-badge{position:absolute;right:8px;top:8px;min-width:20px;height:20px;padding:0 6px;border-radius:999px;background:var(--danger);color:#fff;font-size:12px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,0.28);transform:translateZ(0)}

/* shifted states (applied by JS) */
.chat-fab.shifted{box-shadow:0 8px 28px rgba(37,99,235,0.18)}
.chat-fab.shifted .fab-badge{transform:scale(.86);right:6px;top:6px}
.chat-fab.shifted-vertical{}

/* responsive tweaks */
@media(max-width:880px){.chat-panel{width:420px}}
@media(max-width:720px){
  .chat-panel{width:100%;height:86vh;right:8px;left:8px;bottom:90px;border-radius:12px}
  .chat-wrapper{right:12px;bottom:12px}
  .chat-fab{right:18px;bottom:18px}
}

/* scrollbar modern (webkit + firefox) - appears on hover for clean look */
.chat-messages{scrollbar-width:thin;scrollbar-color: rgba(255,255,255,0.18) transparent;padding-right:8px}
.chat-messages::-webkit-scrollbar{width:10px;background:transparent}
.chat-messages::-webkit-scrollbar-track{background:transparent;margin:8px 0}
.chat-messages::-webkit-scrollbar-thumb{border-radius:999px;background:linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.12));box-shadow: inset 0 1px 0 rgba(255,255,255,0.06), 0 8px 30px rgba(2,6,23,0.45);border:2px solid rgba(12,14,20,0.25);min-height:36px;opacity:0;transition:opacity var(--trans-fast),transform var(--trans-fast)}
.chat-messages:hover::-webkit-scrollbar-thumb, .chat-messages:focus-within::-webkit-scrollbar-thumb{opacity:1}
.chat-messages::-webkit-scrollbar-thumb:hover{transform:scale(1.04);background:linear-gradient(180deg, rgba(255,255,255,0.32), rgba(255,255,255,0.16))}

/* custom animated cursor (soft circle) */
.custom-cursor{width:26px;height:26px;border-radius:50%;position:fixed;pointer-events:none;transform:translate(-50%, -50%);transition:width 160ms ease, height 160ms ease, background 160ms ease, border 160ms ease, box-shadow 160ms ease;z-index:12000;mix-blend-mode:screen;border:2px solid rgba(255,255,255,0.12);background:transparent;backdrop-filter: blur(0.5px);}
.custom-cursor.sticky{width:40px;height:40px;background:rgba(255,255,255,0.06);border-color:rgba(255,255,255,0.18);box-shadow:0 8px 24px rgba(37,99,235,0.12)}

/* accessibility focus outlines */
:focus{outline:none}
[tabindex]:focus, button:focus, input:focus, .qa:focus{box-shadow:0 8px 30px rgba(37,99,235,0.12);border-radius:8px}

/* misc */
.no-select{user-select:none !important}
@keyframes pop{from{transform:translateY(6px);opacity:0}to{transform:translateY(0);opacity:1}}
@keyframes blink{0%{opacity:0.25}50%{opacity:1}100%{opacity:0.25}}
